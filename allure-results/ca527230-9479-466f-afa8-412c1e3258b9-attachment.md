# Test info

- Name: Journey System >> should support different user types
- Location: /Users/gosouza/projetos-p/open-invest-spotlight-dao/tests/e2e/journeys.spec.ts:132:3

# Error details

```
Error: page.waitForSelector: Test timeout of 60000ms exceeded.
Call log:
  - waiting for locator('text=Unlock Advanced Project Owner Features') to be visible

    at /Users/gosouza/projetos-p/open-invest-spotlight-dao/tests/e2e/journeys.spec.ts:140:16
```

# Page snapshot

```yaml
- dialog "Logo Welcome to Open Invest DAO":
  - heading "Logo Welcome to Open Invest DAO" [level=2]:
    - img "Logo"
    - text: Welcome to Open Invest DAO
  - paragraph: Let's get you started on your investment journey
  - heading "How It Works" [level=3]
  - list:
    - listitem:
      - text: "1"
      - paragraph: Connect Your Wallet
      - paragraph: Access the full functionality of the platform
    - listitem:
      - text: "2"
      - paragraph: Make Initial Contribution
      - paragraph: Start with an initial contribution to receive tokens
    - listitem:
      - text: "3"
      - paragraph: Participate in Governance
      - paragraph: Vote on proposals and platform decisions
  - button "Previous"
  - link "Full Guide":
    - /url: /onboarding
    - button "Full Guide"
  - button "Next":
    - text: Next
    - img
  - button "Close":
    - img
    - text: Close
```

# Test source

```ts
   40 |     
   41 |     // Purchase NFT
   42 |     await page.getByRole('button', { name: 'Purchase Investor NFT' }).click();
   43 |     await page.waitForSelector('text=NFT purchased successfully!');
   44 |     await expect(page.getByText('NFT purchased successfully!')).toBeVisible();
   45 |     
   46 |     // Verify subscription timer appears
   47 |     await page.waitForSelector('text=Active Subscription');
   48 |     await expect(page.getByText('Active Subscription')).toBeVisible();
   49 |     await expect(page.getByText('30 days remaining')).toBeVisible();
   50 |   });
   51 |
   52 |   test('should block access to final step without NFT purchase', async ({ page }) => {
   53 |     await page.goto('/onboarding');
   54 |     await page.waitForLoadState('networkidle');
   55 |     
   56 |     // Select investor journey
   57 |     await page.waitForSelector('text=Investor');
   58 |     await page.getByText('Investor').click();
   59 |     await page.getByRole('button', { name: 'Next' }).click();
   60 |     
   61 |     // Complete all steps except paywall
   62 |     await page.waitForSelector('button:has-text("Complete Step")');
   63 |     await page.getByRole('button', { name: 'Complete Step' }).click();
   64 |     await page.getByRole('button', { name: 'Complete Step' }).click();
   65 |     await page.getByRole('button', { name: 'Complete Step' }).click();
   66 |     
   67 |     // Verify paywall appears and final step is not visible
   68 |     await page.waitForSelector('text=Unlock Advanced Investor Features');
   69 |     await expect(page.getByText('Unlock Advanced Investor Features')).toBeVisible();
   70 |     await expect(page.getByText('Notifications')).not.toBeVisible();
   71 |   });
   72 |
   73 |   test('should show correct progress percentage', async ({ page }) => {
   74 |     await page.goto('/onboarding');
   75 |     await page.waitForLoadState('networkidle');
   76 |     
   77 |     // Select investor journey
   78 |     await page.waitForSelector('text=Investor');
   79 |     await page.getByText('Investor').click();
   80 |     await page.getByRole('button', { name: 'Next' }).click();
   81 |     
   82 |     // Verify initial progress
   83 |     await page.waitForSelector('text=0%');
   84 |     await expect(page.getByText('0%')).toBeVisible();
   85 |     
   86 |     // Complete first step
   87 |     await page.getByRole('button', { name: 'Complete Step' }).click();
   88 |     await page.waitForSelector('text=25%');
   89 |     await expect(page.getByText('25%')).toBeVisible();
   90 |     
   91 |     // Complete second step
   92 |     await page.getByRole('button', { name: 'Complete Step' }).click();
   93 |     await page.waitForSelector('text=50%');
   94 |     await expect(page.getByText('50%')).toBeVisible();
   95 |   });
   96 |
   97 |   test('should handle subscription expiration', async ({ page }) => {
   98 |     await page.goto('/onboarding');
   99 |     await page.waitForLoadState('networkidle');
  100 |     
  101 |     // Select investor journey
  102 |     await page.waitForSelector('text=Investor');
  103 |     await page.getByText('Investor').click();
  104 |     await page.getByRole('button', { name: 'Next' }).click();
  105 |     
  106 |     // Complete all steps
  107 |     await page.waitForSelector('button:has-text("Complete Step")');
  108 |     await page.getByRole('button', { name: 'Complete Step' }).click();
  109 |     await page.getByRole('button', { name: 'Complete Step' }).click();
  110 |     await page.getByRole('button', { name: 'Complete Step' }).click();
  111 |     
  112 |     // Purchase NFT
  113 |     await page.getByRole('button', { name: 'Purchase Investor NFT' }).click();
  114 |     
  115 |     // Set purchase date to 31 days ago
  116 |     await page.evaluate(() => {
  117 |       const purchaseDate = new Date();
  118 |       purchaseDate.setDate(purchaseDate.getDate() - 31);
  119 |       localStorage.setItem('investorNftPurchaseDate', purchaseDate.toISOString());
  120 |     });
  121 |     
  122 |     // Refresh page
  123 |     await page.reload();
  124 |     await page.waitForLoadState('networkidle');
  125 |     
  126 |     // Verify subscription timer is gone and paywall reappears
  127 |     await page.waitForSelector('text=Unlock Advanced Investor Features');
  128 |     await expect(page.getByText('Active Subscription')).not.toBeVisible();
  129 |     await expect(page.getByText('Unlock Advanced Investor Features')).toBeVisible();
  130 |   });
  131 |
  132 |   test('should support different user types', async ({ page }) => {
  133 |     await page.goto('/onboarding');
  134 |     await page.waitForLoadState('networkidle');
  135 |     
  136 |     // Test Project Owner journey
  137 |     await page.waitForSelector('text=Project Owner');
  138 |     await page.getByText('Project Owner').click();
  139 |     await page.getByRole('button', { name: 'Next' }).click();
> 140 |     await page.waitForSelector('text=Unlock Advanced Project Owner Features');
      |                ^ Error: page.waitForSelector: Test timeout of 60000ms exceeded.
  141 |     await expect(page.getByText('Unlock Advanced Project Owner Features')).toBeVisible();
  142 |     
  143 |     // Test DAO Member journey
  144 |     await page.goto('/onboarding');
  145 |     await page.waitForLoadState('networkidle');
  146 |     await page.waitForSelector('text=DAO Member');
  147 |     await page.getByText('DAO Member').click();
  148 |     await page.getByRole('button', { name: 'Next' }).click();
  149 |     await page.waitForSelector('text=Unlock Advanced DAO Member Features');
  150 |     await expect(page.getByText('Unlock Advanced DAO Member Features')).toBeVisible();
  151 |     
  152 |     // Test Community Member journey
  153 |     await page.goto('/onboarding');
  154 |     await page.waitForLoadState('networkidle');
  155 |     await page.waitForSelector('text=Community Member');
  156 |     await page.getByText('Community Member').click();
  157 |     await page.getByRole('button', { name: 'Next' }).click();
  158 |     await page.waitForSelector('text=Unlock Advanced Community Member Features');
  159 |     await expect(page.getByText('Unlock Advanced Community Member Features')).toBeVisible();
  160 |   });
  161 | }); 
```